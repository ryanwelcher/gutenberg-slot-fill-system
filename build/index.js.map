{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/slots/real-world/index.js","webpack:///./src/slots/real-world/pre-publish-checklist/index.js","webpack:///./src/slots/real-world/pre-publish-checklist/with-word-counter/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["registerPlugin","wp","plugins","PluginPrePublishPanel","editPost","data","select","dispatch","serialize","blocks","PanelBody","components","PrePublishCheckList","lockPost","wordCounter","withWordCounter","wordCountMessage","count","passed","cats","getEditedPostAttribute","catsMessage","length","console","log","tags","tagsMessage","featuredImageID","featuredImage","lockPostSaving","unlockPostSaving","render","Component","element","wordcount","minCount","countType","wordCount","getBlocks"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// Basic Examples\n//import './slots/basic';\n\n// Real World Examples\nimport './slots/real-world';\n","import './pre-publish-checklist';\n","const { registerPlugin } = wp.plugins;\nconst { PluginPrePublishPanel } = wp.editPost;\nconst { select, dispatch } = wp.data;\nconst { serialize } = wp.blocks;\nconst { PanelBody } = wp.components;\n\nimport withWordCounter from './with-word-counter';\n\nconst PrePublishCheckList = () => {\n\tlet lockPost = false;\n\n\t// Get the WordCount\n\tconst wordCounter = withWordCounter({});\n\tlet wordCountMessage = `${wordCounter.count}`;\n\tif ( ! wordCounter.passed ) {\n\t\tlockPost = true;\n\t\twordCountMessage += ` - Minimum of 1000 required.`;\n\t}\n\n\t// Get the cats\n\tconst cats = select( 'core/editor' ).getEditedPostAttribute( 'categories' );\n\tlet catsMessage = 'Set';\n\tif ( ! cats.length ) {\n\t\tlockPost = true;\n\t\tcatsMessage = 'Missing';\n\t} else {\n\t\t// Check that the cat is not uncategorized - this assumes that the ID of Uncategorized is 1, which it would be for most installs.\n\t\tif ( cats.length === 1 && cats[0] === 1 ) {\n\t\t\tlockPost = true;\n\t\t\tconsole.log ( '3' );\n\t\t\tcatsMessage = 'Cannot use Uncategorized';\n\t\t}\n\t}\n\n\t// Get the tags\n\tconst tags = select( 'core/editor' ).getEditedPostAttribute( 'tags' );\n\tlet tagsMessage = 'Set';\n\tif ( tags.length < 3 || tags.length < 5 ) {\n\t\tlockPost = true;\n\t\ttagsMessage = 'Required 3 - 5 tags';\n\t}\n\n\t// Get the featured image\n\tconst featuredImageID = select( 'core/editor' ).getEditedPostAttribute( 'featured_media' );\n\tlet featuredImage = 'Set';\n\n\tif ( featuredImageID === 0 ) {\n\t\tlockPost = true;\n\t\tfeaturedImage = 'Not Set';\n\t}\n\n\t// Do we need to lock the post?\n\tif ( lockPost === true ) {\n\t\tdispatch( 'core/editor' ).lockPostSaving();\n\t} else {\n\t\tdispatch( 'core/editor' ).unlockPostSaving();\n\t}\n\treturn (\n\t\t<PluginPrePublishPanel>\n\t\t\t<PanelBody title={ 'Publish Checklist' }>\n\t\t\t\t<p><b>WordCount:</b> { wordCountMessage }</p>\n\t\t\t\t<p><b>Categories:</b> { catsMessage }</p>\n\t\t\t\t<p><b>Tags:</b> { tagsMessage }</p>\n\t\t\t\t<p><b>Featured Image:</b> { featuredImage }</p>\n\t\t\t</PanelBody>\n\t\t</PluginPrePublishPanel>\n\t)\n};\n\nregisterPlugin( 'pre-publish-checklist', { render: PrePublishCheckList } );\n","const { Component} = wp.element;\nconst { count } = wp.wordcount;\nconst { serialize } = wp.blocks;\nconst { select } = wp.data;\n\n/**\n *\n * @param {Object} params             Settings for this function\n * @param {int}    [params.minCount]  The minimum word count. If 0, no check is done.\n * @param {string} [params.countType] Passed to the count instance. Options 'words', 'characters_excluding_spaces', or 'characters_including_spaces'\n *\n * @returns {{count: int, passed: boolean}}\n */\nconst withWordCounter = ( { minCount = 500, countType = 'words' } ) => {\n\tconst wordCount = count( serialize( select( 'core/editor' ).getBlocks() ), countType );\n\tif ( minCount > 0 && wordCount < minCount ) {\n\t\treturn {\n\t\t\tpassed: false,\n\t\t\tcount: wordCount,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tpassed: true,\n\t\t\tcount: wordCount\n\t\t}\n\t}\n};\n\nexport default withWordCounter;\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}